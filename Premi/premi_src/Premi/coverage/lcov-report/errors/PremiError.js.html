<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for errors/PremiError.js</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../prettify.css">
    <link rel="stylesheet" href="../base.css">
    <style type='text/css'>
        div.coverage-summary .sorter {
            background-image: url(../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class="header low">
    <h1>Code coverage report for <span class="entity">errors/PremiError.js</span></h1>
    <h2>
        Statements: <span class="metric">17.86% <small>(5 / 28)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Branches: <span class="metric">0% <small>(0 / 6)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Functions: <span class="metric">0% <small>(0 / 3)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Lines: <span class="metric">17.86% <small>(5 / 28)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../index.html">All files</a> &#187; <a href="index.html">errors/</a> &#187; PremiError.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">'use strict';
/**
 * @namespace Back-End::App::Controllers::Errors
 */
/**
 * @class PremiError
 * @author Stefano Munari (stefanomunari.sm@gmail.com)
 * @description Data: 17/05/2015 - Requisiti: RFO30.3, RFO30.4, RFD33, RFD35
 * @classdesc Classe di gestione degli errori. Esegue la costruzione del messaggio d’errore specifico per i moduli di
 * Premi::App
 * @memberof Back-End::App::Controllers::Errors
 */
/*---PRIVATE---*/
/*
    Divisi per moduli:
    1xxx: errori di autenticazione e userById
    2xxx: errori middleware projectById
    3xxx: errori middleware nodeById
    6xxx: errori middleware associationById
    7xxx: errori middleware pathById
    8xxx: errori ProjectManagementController
    9xxx: errori NodeController
    10xxx: errori PathController
    11xxx: errori ProjectModel
    12xxx: errori PathModel
 */
var errorCodes =
    {
        1000 : ['Utente non trovato', 'L\'identificativo utente fornito non è un identificativo valido'],
&nbsp;
        1002 : ['Credenziali non valide', 'È neccessario fornire un\'indirizzo email ed una password valide'],
&nbsp;
        2000 : ['Progetto non trovato', 'L\'identificativo del progetto fornito non è un identificativo valido'],
&nbsp;
        3000 : ['Nodo non trovato', 'L\'identificativo del nodo fornito non è un identificativo valido'],
&nbsp;
        6000 : ['Associazione non trovata', 'L\'identificativo dell\'associazione fornita non è un identificativo valido'],
&nbsp;
        7000 : ['Percorso non trovato', 'L\'identificativo del percorso fornito non è un identificativo valido'],
&nbsp;
        8000 : ['Progetto corrotto', 'Errore nella ricerca dei campi dati relativi al progetto indicato'],
&nbsp;
        8001 : ['Dati non validi', 'I dati relativi al progetto sono vuoti o errati'],
&nbsp;
        8002 : ['Progetto corrotto', 'Errore durante l\'eliminazione del progetto'],
&nbsp;
        9000 : ['Dati non validi', 'I dati relativi al contenuto del nodo non sono validi o sono formattati in modo errato'],
&nbsp;
        9001 : ['Nodi non validi', 'Gli identificativi dei nodi forniti non sono validi oppure non esistono oppure il nodo entrante coincide con il nodo uscente'],
&nbsp;
        10000 : ['Dati non validi', 'I dati per la modifica del percorso non sono definiti'],
&nbsp;
        11001 : ['Nodo del progetto non trovato', 'Il nodo riferito nella relazione o nel percorso non è stato trovato all\'interno del progetto indicato'],
&nbsp;
        11002 : ['Nodo padre non esistente', 'Il nodo padre indicato non esiste o non corrisponde ad un nodo valido'],
&nbsp;
        11003 : ['Nodo non valido', 'Impossibile eliminare il nodo radice della mappa mentale'],
&nbsp;
        12000 : ['Nodo del percorso non trovato', 'Il nodo riferito non è stato trovato all\'interno del percorso indicato']
    };
/*---PUBLIC---*/
/**
 * @function PremiError
 * @description Costruttore della classe PremiError.
 * @instance
 * @memberof Back-End::App::Controllers::Errors.PremiError
 * @param {Number} error - Rappresenta il codice identificativo dell'errore.
 */
var PremiError =
<span class="fstat-no" title="function not covered" >    function (error)</span>
    {
<span class="cstat-no" title="statement not covered" >        var err;</span>
<span class="cstat-no" title="statement not covered" >        if(error === parseInt(error)) //ricevo un intero</span>
        {
<span class="cstat-no" title="statement not covered" >            this.code = error;</span>
            //il codice non è definito in PremiError
<span class="cstat-no" title="statement not covered" >            if (errorCodes[error] === undefined)</span>
            {
<span class="cstat-no" title="statement not covered" >                console.error('PremiError received an unknown error code:', error);</span>
<span class="cstat-no" title="statement not covered" >                this.title = 'Errore sconosciuto';</span>
<span class="cstat-no" title="statement not covered" >                this.message = 'Codice sconosciuto: '+error;</span>
            }
            else
            {
<span class="cstat-no" title="statement not covered" >                err = errorCodes[error];</span>
<span class="cstat-no" title="statement not covered" >                this.title = err[0];</span>
<span class="cstat-no" title="statement not covered" >                this.message = err[1];</span>
            }
        }
        else //PremiError non ha ricevuto un intero
        {
<span class="cstat-no" title="statement not covered" >            console.error('PremiError received an invalid argument:', error);</span>
<span class="cstat-no" title="statement not covered" >            if(error.message !== undefined)</span>
<span class="cstat-no" title="statement not covered" >                error= error.message;</span>
<span class="cstat-no" title="statement not covered" >            this.code = 0;</span>
<span class="cstat-no" title="statement not covered" >            this.title = 'Errore sconosciuto';</span>
<span class="cstat-no" title="statement not covered" >            this.message = error;</span>
        }
    };
&nbsp;
/**
 * @function toJSON
 * @description Questo metodo ritorna l'errore in formato JSON.
 * @instance
 * @memberof Back-End::App::Controllers::Errors.PremiError
 * @returns {JSON} json - Rappresenta l'errore formattato in JSON.
 */
PremiError.prototype.toJSON =
<span class="fstat-no" title="function not covered" >    function ()</span>
    {
<span class="cstat-no" title="statement not covered" >        var json =</span>
            {
                title : this.title,
                code : this.code,
                message : this.message
            };
<span class="cstat-no" title="statement not covered" >        return json;</span>
    };
&nbsp;
/**
 * @function toString
 * @description Effettua una concatenazione dei campi dati dell'errore e li ritorna in formato String.
 * @instance
 * @memberof Back-End::App::Controllers::Errors.PremiError
 * @returns {String} str - Rappresenta l'errore formattato come stringa.
 */
PremiError.prototype.toString =
<span class="fstat-no" title="function not covered" >    function ()</span>
    {
<span class="cstat-no" title="statement not covered" >        var str = 'PremiError:';</span>
<span class="cstat-no" title="statement not covered" >        str +=  ' ' + this.title;</span>
<span class="cstat-no" title="statement not covered" >        str += ' [' + this.code + ']';</span>
<span class="cstat-no" title="statement not covered" >        str += ' [' + this.message + ']';</span>
<span class="cstat-no" title="statement not covered" >        return str;</span>
    };
&nbsp;
module.exports = PremiError;
&nbsp;</pre></td></tr>
</table></pre>

</div>
<div class="footer">
    <div class="meta">Generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Sat Jun 13 2015 20:08:13 GMT+0200 (CEST)</div>
</div>
<script src="../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../sorter.js"></script>
</body>
</html>
